<!DOCTYPE html>
<html lang="en zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="description" content="Play Tetris - Cool Edition. A modern take on the classic puzzle game with particle effects and smooth animations.">
    <meta name="keywords" content="tetris, puzzle game, block game, html5 tetris, browser game">
    <title>Tetris - Cool edition</title>
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' rx='16' fill='%23667eea'/%3E%3Ctext x='50%25' y='54%25' text-anchor='middle' font-size='28' fill='white' font-family='Segoe UI,Arial' dy='.3em'%3EðŸ§©%3C/text%3E%3C/svg%3E">
    <link rel="stylesheet" href="css/tetris.css">
</head>
<body>
    <div class="background-animation"></div>
    <div class="stars" id="stars"></div>

    <div class="theme-toggle" id="themeToggle"></div>

    <div class="game-container">
        <div class="game-board">
            <canvas id="tetris" width="400" height="800"></canvas>
            <canvas id="particleCanvas" width="400" height="800"></canvas>
            <canvas id="lineClearCanvas" width="400" height="800"></canvas>
            <div class="game-over-overlay" id="gameOverOverlay">
                <div class="game-over-content">
                    <h2 id="gameOverTitle"></h2>
                    <p id="finalScoreLabel"><span id="finalScore">0</span></p>
                    <button class="btn" id="restartBtn"></button>
                </div>
            </div>
            <div class="combo-display" id="comboDisplay"></div>
        </div>

        <div class="info-panel">
            <div class="info-box" style="margin-bottom:8px;">
                <div class="info-row">
                    <span class="info-label" id="usernameLabel"></span>
                    <input id="usernameInput" type="text" maxlength="20" style="flex:1;padding:6px 10px;border-radius:6px;border:1px solid #667eea;background:#222;color:#fff;font-size:15px;" />
                </div>
                <div id="usernameTip" style="font-size:13px;color:#aaa;margin-top:4px;"></div>
            </div>
            <div class="info-box">
                <div class="info-row">
                    <span class="info-label" id="scoreLabel"></span>
                    <span class="score-display" id="score">0</span>
                </div>
            </div>

            <div class="info-box">
                <div class="info-row">
                    <span class="info-label" id="levelLabel"></span>
                    <span class="score-display" id="level">1</span>
                </div>
            </div>

            <div class="info-box">
                <div class="info-row">
                    <span class="info-label" id="linesLabel"></span>
                    <span class="score-display" id="lines">0</span>
                </div>
            </div>

            <div class="info-box">
                <div class="info-row">
                    <span class="info-label" id="comboLabel"></span>
                    <span class="score-display" id="combo">0</span>
                </div>
            </div>

            <div class="info-box">
                <div class="info-row" style="align-items:center;">
                    <span class="info-label" id="nextLabel" style="margin-right:18px;"></span>
                    <canvas id="nextPiece" class="next-piece" width="100" height="100" style="margin:0;"></canvas>
                </div>
            </div>

            <div class="info-box controls">
                <button class="btn" id="startBtn"></button>
                <button class="btn" id="pauseBtn"></button>
                <button class="btn" id="restartGameBtn"></button>
            </div>
        </div>
    </div>
    
    <div class="global-scores-panel" id="globalScoresPanel">
        <div class="global-scores-header" id="globalScoresHeader">Global Top 5</div>
        <div class="global-scores-list" id="globalScoresList">
            <div class="loading-scores" id="loadingScores">Loading...</div>
        </div>
    </div>

    <div class="level-up-effect" id="levelUpEffect"></div>

    <!-- Mobile bottom controls -->
    <div class="mobile-controls" id="mobileControls">
        <button class="btn" id="mobileStartBtn"></button>
        <button class="btn" id="mobilePauseBtn"></button>
        <button class="btn" id="mobileRestartBtn"></button>
    </div>

    <script type="module" src="js/tetris.js"></script>
</body>
</html>